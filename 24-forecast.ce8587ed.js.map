{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,eAC9BC,EAAOF,SAASC,cAAc,YAEpCF,EAAKI,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBAEJ,MACEC,OAASC,MAAOD,GAChBE,MAAQD,MAAOC,IACbJ,EAAIK,cAAcC,SACtB,IAAIJ,EAAO,OAAOK,MAAM,sBAS1B,SAAoBL,EAAOE,GAGzB,OAAOI,MAAM,oFAAgCN,UAAcE,KACxDK,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,IACrBC,OAAMC,IACPC,QAAQC,IAAIF,EAAM,G,EAjBtBG,CAAWjB,EAAOE,GAAMK,MAAKW,IAC3BtB,EAAKuB,UAAyBD,EAAKE,SAASC,YAsB3CC,KACC,EACEC,KACEC,WAAWC,KAAEA,EAAIC,KAAEA,GAAMC,UACzBA,GACDC,KACDA,EACAC,OAAOC,QAAEA,EAAOC,OAAEA,MAElB,kEAE2BN,WAAcC,uDAENA,yDAECE,sEAEaD,uDAEfG,oDAEHC,wBAIlCC,KAAK,GA/CkD,IACvDnB,OAAMC,IACPC,QAAQC,IAAIF,EAAM,G","sources":["src/js/24-forecast.js"],"sourcesContent":["const form = document.querySelector('.js-weather');\nconst list = document.querySelector('.js-list');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const {\n    query: { value: query },\n    days: { value: days },\n  } = evt.currentTarget.elements;\n  if(!query){return alert('Please add value!')}\n\n  weatherAPI(query, days).then(data => {\n    list.innerHTML = createMarkup(data.forecast.forecastday);\n  }).catch(error => {\n    console.log(error);\n  });\n}\n\nfunction weatherAPI(query, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1/forecast.json';\n  const API_KEY = 'f60c865d67554350816202559231101';\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&days=${days}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }).catch(error => {\n      console.log(error);\n    });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        day: {\n          condition: { icon, text },\n          avgtemp_c,\n        },\n        date,\n        astro: { sunrise, sunset },\n      }) =>\n        `<li class=\"js-list__item\">\n\n  <img class=\"js-list__img\" src=\"${icon}\" alt=\"${text}\" />\n  \n  <h2 class=\"js-list__img-desc\">Img desc:${text}</h2>\n  \n  <h3 class=\"js-list__forecast-date\">Date:${date}</h3>\n  \n  <h4 class=\"js-list__temperature\">Average temperature:${avgtemp_c}</h4>\n  \n  <h5 class=\"js-list__sunrise\"> Sunrise:${sunrise}</h5>\n  \n  <h5 class=\"js-list__sunset\">Sunset:${sunset}</h5>\n  \n  </li>`\n    )\n    .join('');\n}\n"],"names":["$049cd2391b868f07$var$form","document","querySelector","$049cd2391b868f07$var$list","addEventListener","evt","preventDefault","query","value","days","currentTarget","elements","alert","fetch","then","response","ok","Error","statusText","json","catch","error","console","log","$049cd2391b868f07$var$weatherAPI","data","innerHTML","forecast","forecastday","map","day","condition","icon","text","avgtemp_c","date","astro","sunrise","sunset","join"],"version":3,"file":"24-forecast.ce8587ed.js.map"}