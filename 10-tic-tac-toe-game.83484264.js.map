{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,YAEjCC,EAAO,CACX,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAOT,IAAIC,EAASC,aAAaC,QAFP,WAE8B,IAEjD,MAAMC,EAAQC,KAAKC,MAAMJ,aAAaC,QANxB,UAM2C,GACnDI,EAAQF,KAAKC,MAAMJ,aAAaC,QANxB,UAM2C,GAEzD,IAAIK,EAAU,EAcd,SAASC,IACP,IAAIC,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,GAAK,EAC3BD,GAAU,8BAA8BC,YAE1Cd,EAAQe,UAAYF,C,CA6DtB,SAASG,EAASC,GAChB,OAAOd,EAAKe,MAAKC,GAAQA,EAAKC,OAAMC,GAAMJ,EAAIK,SAASD,M,CA3DzDT,IAnBE,IAAIZ,EAAQuB,UAAUC,SAAQL,IAC5B,MAAME,EAAKI,OAAON,EAAKO,QAAQL,IAE3Bd,EAAMe,SAASD,GACjBF,EAAKQ,YAAc,IACVjB,EAAMY,SAASD,KACxBF,EAAKQ,YAAc,IAAG,IAiB5B3B,EAAQ4B,iBAAiB,SAEzB,SAAiBC,GACf,IAAKA,EAAIC,OAAOC,UAAUC,SAAS,QACjC,OAEF,GAAIH,EAAIC,OAAOH,YACb,OAEEE,EAAII,cAAcV,SAASW,WAG/B,MAAMC,EAAYV,OAAOI,EAAIC,OAAOJ,QAAQL,IAC5CV,GAAW,EACX,IAAIyB,GAAS,EAEE,MAAXhC,GACFG,EAAM8B,KAAKF,GACX9B,aAAaiC,QArDH,OAqDkB9B,KAAK+B,UAAUhC,IAC3C6B,EAASpB,EAAST,KAElBG,EAAM2B,KAAKF,GACX9B,aAAaiC,QAxDH,OAwDkB9B,KAAK+B,UAAU7B,IAC3C0B,EAASpB,EAASN,IAGpBmB,EAAIC,OAAOH,YAAcvB,EAErBgC,IAgBYI,EAfLpC,EAgBXqC,YAAW,KACJC,MAAM,YAAYF,wCACrBvC,SAAS0C,SAASC,SAEpBhC,IACAP,aAAawC,OAAO,GACnB,MAPL,IAAkBL,EAvEA,IA2DZ7B,GAA0ByB,GAC5BK,YAAW,KACJC,MAAM,0CACTzC,SAAS0C,SAASC,SAClBvC,aAAawC,Q,GAEd,KAELzC,EAAoB,MAAXA,EAAiB,IAAM,IAChCC,aAAaiC,QA1EI,SA0EgBlC,E","sources":["src/js/10-tic-tac-toe.js"],"sourcesContent":["const content = document.querySelector('.content');\n\nconst wins = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  [1, 4, 7],\n  [2, 5, 8],\n  [3, 6, 9],\n  [1, 5, 9],\n  [3, 5, 7],\n];\n\nconst KEY_X = 'keyX';\nconst KEY_O = 'keyO';\nconst KEY_PLAYER = 'player';\n\nlet player = localStorage.getItem(KEY_PLAYER) || 'X';\n\nconst stepX = JSON.parse(localStorage.getItem(KEY_X)) || [];\nconst stepO = JSON.parse(localStorage.getItem(KEY_O)) || [];\nconst endOfGame = 9;\nlet counter = 0;\n\nfunction autoComplite() {\n  [...content.children].forEach(item => {\n    const id = Number(item.dataset.id);\n\n    if (stepX.includes(id)) {\n      item.textContent = 'X';\n    } else if (stepO.includes(id)) {\n      item.textContent = 'O';\n    }\n  });\n}\n\nfunction createMarkup() {\n  let markup = '';\n  for (let i = 1; i <= 9; i += 1) {\n    markup += `<div class=\"item\" data-id=\"${i}\"></div>`;\n  }\n  content.innerHTML = markup;\n}\n\ncreateMarkup();\n\nautoComplite();\n\ncontent.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (!evt.target.classList.contains('item')) {\n    return;\n  }\n  if (evt.target.textContent) {\n    return;\n  }\n  if (evt.currentTarget.children.texcontent) {\n  }\n\n  const currentId = Number(evt.target.dataset.id);\n  counter += 1;\n  let result = false;\n\n  if (player === 'X') {\n    stepX.push(currentId);\n    localStorage.setItem(KEY_X, JSON.stringify(stepX));\n    result = isWinner(stepX);\n  } else {\n    stepO.push(currentId);\n    localStorage.setItem(KEY_O, JSON.stringify(stepO));\n    result = isWinner(stepO);\n  }\n\n  evt.target.textContent = player;\n\n  if (result) {\n    champion(player);\n  }\n\n  if (counter === endOfGame && !result) {\n    setTimeout(() => {\n      if (!alert('You have a draw. Thanks for playing!')) {\n        document.location.reload();\n        localStorage.clear();\n      }\n    }, 300);\n  }\n  player = player === 'X' ? 'O' : 'X';\n  localStorage.setItem(KEY_PLAYER, player);\n}\n\nfunction champion(player) {\n  setTimeout(() => {\n    if (!alert(`Player   ${player}   you are Winner! Congratulation!`)) {\n      document.location.reload();\n    }\n    createMarkup();\n    localStorage.clear();\n  }, 300);\n}\n\nfunction isWinner(arr) {\n  return wins.some(item => item.every(id => arr.includes(id)));\n}\n"],"names":["$c5e69e237b32252b$var$content","document","querySelector","$c5e69e237b32252b$var$wins","$c5e69e237b32252b$var$player","localStorage","getItem","$c5e69e237b32252b$var$stepX","JSON","parse","$c5e69e237b32252b$var$stepO","$c5e69e237b32252b$var$counter","$c5e69e237b32252b$var$createMarkup","markup","i","innerHTML","$c5e69e237b32252b$var$isWinner","arr","some","item","every","id","includes","children","forEach","Number","dataset","textContent","addEventListener","evt","target","classList","contains","currentTarget","texcontent","currentId","result","push","setItem","stringify","player1","setTimeout","alert","location","reload","clear"],"version":3,"file":"10-tic-tac-toe-game.83484264.js.map"}