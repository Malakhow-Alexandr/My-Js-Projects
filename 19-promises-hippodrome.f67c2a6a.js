!function(){var e=["Secretariat","Eclipse","West Australian","Flying Fox","Sebastian"],t=0,n={startBtn:document.querySelector(".js-race-btn"),winnerField:document.querySelector(".js-winner"),progressField:document.querySelector(".js-progress"),tableBody:document.querySelector(".js-result-table > tbody")};function r(e){n.winnerField.textContent=e}function o(e){n.progressField.textContent=e}function c(e){return new Promise((function(t,n){var r,o,c=(r=2e3,o=3500,Math.floor(Math.random()*(o-r+1)+r));setTimeout((function(){t({horse:e,time:c})}),c)}))}n.startBtn.addEventListener("click",(function(){t+=1;var i=e.map(c);r(""),o("🏇 The race has started, no bids accepted!"),a=i,Promise.race(a).then((function(e){var o=e.horse,c=e.time;r("🏁 Won ".concat(o,"🥇 by finishing in ").concat(c," milliseconds")),function(e){var t=e.horse,r=e.time,o=e.raceCounter,c="<tr><td>".concat(o,"</td><td>").concat(t,"</td><td>").concat(r,"</td></tr>");n.tableBody.insertAdjacentHTML("beforeend",c)}({horse:o,time:c,raceCounter:t})})),function(e){Promise.all(e).then((function(e){o("🐎 the race is over. 🤑 bids are being accepted!")}))}(i);var a}))}();
//# sourceMappingURL=19-promises-hippodrome.f67c2a6a.js.map
