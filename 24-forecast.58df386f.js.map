{"mappings":"YAAA,IAAMA,EAAOC,SAASC,cAAc,eAC9BC,EAAOF,SAASC,cAAc,YAEpCF,EAAKI,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBAEJ,IAGIC,EAAAF,EAAIG,cAAcC,SAFXC,EAEPH,EAFFG,MAASC,MACDC,EACNL,EADFK,KAAQD,MAEV,IAAID,EAAO,OAAOG,MAAM,sBAS1B,SAAoBH,EAAOE,GACzB,IACME,EAAU,kCAChB,OAAOC,MAAM,GAAmBC,OAFf,6CAEQ,SAAoBA,OAAbF,EAAQ,OAAmBE,OAAdN,EAAM,UAAaM,OAALJ,IACxDK,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,IACfC,OAAM,SAAAC,GACPC,QAAQC,IAAIF,E,KAjBhBG,CAAWjB,EAAOE,GAAMK,MAAK,SAAAW,GAC3BzB,EAAK0B,UAAyBD,EAAKE,SAASC,YAsB3CC,KACC,SAAAC,G,QACEC,IAAGC,EAAAC,EACDC,UAAaC,EAAIH,EAAJG,KAAMC,EAAIJ,EAAJI,KACnBC,EAASJ,EAATI,UAEFC,EAAIR,EAAJQ,KAAIC,EAAAT,EACJU,MAASC,EAAOF,EAAPE,QAASC,EAAMH,EAANG,O,MAElB,kEAEyC7B,OAAdsB,EAAK,WAEGtB,OAFMuB,EAAK,uDAIVvB,OAFDuB,EAAK,yDAISvB,OAFbyB,EAAK,sEAIPzB,OAFewB,EAAU,uDAI5BxB,OAFG4B,EAAQ,oDAEJ5B,OAAP6B,EAAO,qB,IAIzCC,KAAK,G,IA9CLvB,OAAM,SAAAC,GACPC,QAAQC,IAAIF,E","sources":["src/js/24-forecast.js"],"sourcesContent":["const form = document.querySelector('.js-weather');\nconst list = document.querySelector('.js-list');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const {\n    query: { value: query },\n    days: { value: days },\n  } = evt.currentTarget.elements;\n  if(!query){return alert('Please add value!')}\n\n  weatherAPI(query, days).then(data => {\n    list.innerHTML = createMarkup(data.forecast.forecastday);\n  }).catch(error => {\n    console.log(error);\n  });\n}\n\nfunction weatherAPI(query, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1/forecast.json';\n  const API_KEY = 'f60c865d67554350816202559231101';\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&days=${days}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }).catch(error => {\n      console.log(error);\n    });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        day: {\n          condition: { icon, text },\n          avgtemp_c,\n        },\n        date,\n        astro: { sunrise, sunset },\n      }) =>\n        `<li class=\"js-list__item\">\n\n  <img class=\"js-list__img\" src=\"${icon}\" alt=\"${text}\" />\n  \n  <h2 class=\"js-list__img-desc\">Img desc:${text}</h2>\n  \n  <h3 class=\"js-list__forecast-date\">Date:${date}</h3>\n  \n  <h4 class=\"js-list__temperature\">Average temperature:${avgtemp_c}</h4>\n  \n  <h5 class=\"js-list__sunrise\"> Sunrise:${sunrise}</h5>\n  \n  <h5 class=\"js-list__sunset\">Sunset:${sunset}</h5>\n  \n  </li>`\n    )\n    .join('');\n}\n"],"names":["$0b6b33a715cffc30$var$form","document","querySelector","$0b6b33a715cffc30$var$list","addEventListener","evt","preventDefault","_elements","currentTarget","elements","query","value","days","alert","API_KEY","fetch","concat","then","response","ok","Error","statusText","json","catch","error","console","log","$0b6b33a715cffc30$var$weatherAPI","data","innerHTML","forecast","forecastday","map","param","day","_condition","_day","condition","icon","text","avgtemp_c","date","_astro","astro","sunrise","sunset","join"],"version":3,"file":"24-forecast.58df386f.js.map"}