{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAoBA,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,GACFF,EAAQ,CAAEH,WAAUC,UAEtBG,EAAO,CAAEJ,WAAUC,S,GAClBA,E,IAaP,SAASQ,EAAiBC,G,IAAEV,EAAFU,EAAEV,SAAUC,EAAZS,EAAYT,MACpCU,EAAAd,GAASe,OAAOC,QAAQ,uBAAwCC,OAAfd,EAAS,QAAYc,OAANb,EAAM,M,CAGxE,SAASc,EAAeL,G,IAAEV,EAAFU,EAAEV,SAAUC,EAAZS,EAAYT,MAClCU,EAAAd,GAASe,OAAOI,QAAQ,qBAAoCF,OAAfd,EAAS,QAAYc,OAANb,EAAM,M,YA3CvD,CACXgB,KAAMC,SAASC,cAAc,mBAG1BF,KAAKG,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAIC,iBACJ,IAAgCC,EAAAF,EAAIG,cAA5BvB,EAAwBsB,EAAxBtB,MAAOwB,EAAiBF,EAAjBE,KAAMC,EAAWH,EAAXG,OAEfC,EAAa1B,EAAM2B,cACnBC,EAAWJ,EAAKG,cAChBE,EAAaJ,EAAOE,eAiB5B,SAAyB3B,EAAOwB,EAAMC,GACpC,IAAK,IAAIK,EAAI,EAAGA,EAAIL,EAAQK,GAAK,EAAG,CAElChC,EAAcgC,EAAI,EADA9B,EAAQwB,EAAOM,GAE9BC,KAAKvB,GACLwB,MAAMlB,E,EApBXmB,CAAgBP,EAAYE,EAAUC,E","sources":["src/js/22-prodmises-counter.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector('.form-promises'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const { delay, step, amount } = evt.currentTarget;\n\n  const firstDelay = delay.valueAsNumber;\n  const userStep = step.valueAsNumber;\n  const userAmount = amount.valueAsNumber;\n\n  promisesCounter(firstDelay, userStep, userAmount);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      }\n      reject({ position, delay });\n    }, delay);\n  });\n}\n\nfunction promisesCounter(delay, step, amount) {\n  for (let i = 0; i < amount; i += 1) {\n    const userDelay = delay + step * i;\n    createPromise(i + 1, userDelay)\n      .then(onPromiseSuccess)\n      .catch(onPromiseError);\n  }\n}\n\nfunction onPromiseSuccess({ position, delay }) {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onPromiseError({ position, delay }) {\n  Notiflix.Notify.failure(`❌Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$iU1Pc","parcelRequire","$d7991c84530b2d02$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$d7991c84530b2d02$var$onPromiseSuccess","param","$parcel$interopDefault","Notify","success","concat","$d7991c84530b2d02$var$onPromiseError","failure","form","document","querySelector","addEventListener","evt","preventDefault","_currentTarget","currentTarget","step","amount","firstDelay","valueAsNumber","userStep","userAmount","i","then","catch","$d7991c84530b2d02$var$promisesCounter"],"version":3,"file":"22-promises-counter.94958117.js.map"}